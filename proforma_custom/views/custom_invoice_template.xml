<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="custom_invoice_template">
        <t t-call="web.external_layout">
            <div class="page">
                <!-- Header Section -->
                <div class="header" t-att-style="report_header_style">
                    <h1>TVO Proforma Fatura</h1>
                    <p>TVO BİTKİSEL YAĞ SANAYİ TİCARET A.Ş.</p>
                    <p>Deposı̇te İş Mer. A Blok No. 311, İkitelli OSB, Başakşehir, İstanbul-Türkiye</p>
                    <p>Vergi No: 8831154019</p>
                </div>

                <!-- Proforma Invoice Information -->
                <div class="invoice-info">
                    <h2>Proforma Fatura</h2>
                    <p>Date: <span t-field="o.date_order"/></p>
                    <p>Firma Proforma No: <span t-field="o.name"/></p>
                </div>

                <!-- Customer Information -->
                <div class="customer-info">
                    <p><strong>Müşteri:</strong> <span t-field="o.partner_id.name"/></p>
                    <p><strong>Address:</strong> <span t-field="o.partner_id.contact_address"/></p>
                    <p><strong>Vergi No:</strong> <span t-field="o.partner_id.vat"/></p>
                    <p><strong>Ödeme Koşulları:</strong> <span t-field="o.payment_term_id.name"/></p>
                    <p><strong>Geçerlilik:</strong> 7 Gün</p>
                </div>

                <!-- Products Table -->
                <table class="table table-sm table-striped">
                    <thead>
                        <tr>
                            <th>Açıklama</th>
                            <th>Miktar</th>
                            <th>Birim Fiyatı</th>
                            <th>Tutar</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr t-foreach="o.order_line" t-as="line">
                            <td>
                                <span t-field="line.name"/>
                            </td>
                            <td>
                                <span t-field="line.product_uom_qty"/> <span t-field="line.product_uom.name"/>
                            </td>
                            <td>
                                <span t-field="line.price_unit" t-options='{"widget": "monetary", "display_currency": line.currency_id}'/>
                            </td>
                            <td>
                                <span t-field="line.price_subtotal" t-options='{"widget": "monetary", "display_currency": line.currency_id}'/>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="3"><strong>Total</strong></td>
                            <td><span t-field="o.amount_total" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/></td>
                        </tr>
                    </tfoot>
                </table>

                <!-- Terms and Bank Information (unchanged) -->
                <div class="terms">
                    <h3>Temel Koşullar</h3>
                    <ul>
                        <li>Fiyatlarımıza %20 KDV Dahil değildir.</li>
                        <li>Ürün fiyatlarını etkileyen vergi değişiklikleri fiyatlarımıza yansıtılacaktır.</li>
                        <li>Fiyatlarımız USD bazında olup, %100 tesliminde ödenecektir.</li>
                        <li>Bu proforma müşteri tarafından teyit edildikten sonra sözleşme niteliği taşır.</li>
                        <li>Vadesinde ödenmeyen faturalara aylık %8 TL bazında, %3 USD bazında vade farkı ilave edilecektir.</li>
                    </ul>
                </div>

                <div class="bank-info">
                    <h3>Banka Bilgileri</h3>
                    <ul>
                        <li>Vakıf Katılım Bankası: TR08 0021 0000 0001 9638 4000 01</li>
                        <li>Kuveyt Türk Katılım Bankası: TR08 0020 5000 0970 4803 0000 01</li>
                        <li>Albaraka Türk Katılım Bankası: TR05 0020 3000 0162 4618 0000 01</li>
                    </ul>
                </div>
            </div>
        </t>
    </template>
</odoo>
