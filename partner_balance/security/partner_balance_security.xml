<?xml version="1.0" encoding="utf-8" ?>

<odoo>
    <data>
        <record id="rule_partner_balance_user" model="ir.rule">
            <field name="name">View User Partner Balances</field>
            <field name="model_id" ref="model_partner_balance"/> <!-- Adjust if the model ID differs -->
            <field name="domain_force">
                ['|', 
                ('partner_id.users_ids', 'in', user.id), 
                ('partner_id.id', 'in', [rec for rec in user.get_partner_ids()])]
            </field>
            <field name="groups" eval="[(4, ref('partner_access.group_partner_access_user'))]"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>

        <!-- Team Leader Partners -->
        <!-- <record id="rule_partner_balance_leader" model="ir.rule">
            <field name="name">View Team Leader Partners</field>
            <field ref="model_partner_balance" name="model_id"/>
            <field name="domain_force">['|', ('partner_id.user_id', '=', user.id), ('partner_id.id', 'in', [rec for rec in user._get_employee_partner()])]</field>
            <field name="groups" eval="[(4, ref('partner_access.group_partner_access_leader'))]"/>
        </record> -->

        <!-- Team Manager Partners -->
        <!-- <record id="rule_partner_balance_manager" model="ir.rule">
            <field name="name">View Team Manager Partners</field>
            <field ref="model_partner_balance" name="model_id"/>
            <field name="domain_force">['|',('partner_id.user_id','=',user.id),('partner_id.id', 'in', [rec for rec in user._get_sales_team_partner()])]</field>
            <field name="groups" eval="[(4, ref('partner_access.group_partner_access_manager'))]"/>
        </record> -->
        
        <!-- All Partners -->
        <record id="rule_partner_balance_all" model="ir.rule">
            <field name="name">View All partner</field>
            <field ref="model_partner_balance" name="model_id"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('partner_access.group_partner_access_all'))]"/>
        </record>
    </data>
</odoo>
